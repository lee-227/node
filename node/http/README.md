## 网络通信的基本原理
1. 主机与主机之间需要传输介质，即网线
2. 计算机存储数据最终是通过二进制进行存储而传输过程中只能传输电信号，即高低电压
3. 如何将二进制数据转换为电信号，再将电信号转换为二进制？
4. 网卡设备就用于该作用，调制与解调制

## 网络通讯方式
1. 如何建立多台主机互连？
   1. 通过交换机可以将多台主机互联，他所形成的网络就是局域网。
   2. 在局域网中，每台主机都会有一个唯一标识Mac地址，物理地址。
   3. 定位主机时，交换机会已广播的方式通知局域网内的每台主机，通过 Mac 找到对应的主机。
2. 交换机接口有限，且当主机过多时会造成广播风暴
3. 不同网络之间的主机通信？
   1. 路由器通过 IP 找到对应的网络
   2. 在该网络的局域网中再通过Mac定位到主机

## 网络层次模型
1. OSI 7层模型 更加清晰规范的完成网络规范
2. 应用层：用户与网络，应用程序与网络的接口，比如通过http协议完成网站服务，ftp文件传输服务，利用ssh协议实现远程登录服务等
3. 表示层：数据加密，转换，压缩
4. 会话层：控制网络功能的连接建立与终止
5. 传输层：保证数据传输的可靠性 
6. 网络层：通过路由找到目标网络，通过IP协议找到源和目标的网络
7. 数据链路层：确定目标网络之后通过 mac 地址确定目标主机，arp 寻址协议
8. 物理层：各种网络物理设备和标准

1. TCP/IP 4层模型 
2. 前三层：应用层
3. 后两层：接入层
4. 中间两层：主机层

## 数据的封装与解封
- 应用层： data
- 传输层：目标端口 | 源端口 | data
- 网络层：目标IP | 源IP | 目标端口 | 源端口 | data
- 数据链路层：目标Mac | 源Mac | 目标IP | 源IP | 目标端口 | 源端口 | data
- 物理层：将封装好的二进制数据 转为电信号

- 物理层：将掉信号转换为二进制数据
- 数据链路层：确定 Mac 是否正确 -> 目标Mac | 源Mac | 目标IP | 源IP | 目标端口 | 源端口 | data
- 网络层：确定IP是否正确 -> 目标IP | 源IP | 目标端口 | 源端口 | data
- 传输层：确定端口 -> 目标端口 | 源端口 | data
- 应用层：获取 data -> data

## TCP
- TCP 是传输层协议
- TCP 是面向连接的可靠的通信协议

### TCP 控制字段
- SYN = 1 表示请求建立连接
- FIN = 1 表示请求断开连接
- ACK = 1 表示数据信息确认

### TCP 三次握手
1. 客户端 发送 SYN 报文，请求服务端建立连接
2. 服务端 返回 ACK 报文，信息确认，此时客户端向服务端的通道建立完毕
3. 服务端 发送 SYN 报文，请求客户端建立连接
4. 客户端 发送 ACK 报文，信息确认，此时服务端向客户端的通道也建立完毕。
5. 完成连接。
6. 服务端会将第二步第三步合并为一个报文发送，所以是三次握手

### TCP 四次挥手
1. 客户端 发送 FIN 报文，请求服务端断开连接
2. 服务端 返回 ACK 报文，信息确认，此时客户端向服务端的通道断开
3. 服务端 发送 FIN 报文，请求客户端断开连接
4. 客户端 发送 ACK 报文，信息确认，此时服务端向客户端的通道也断开。
5. 完成连接关闭。
6. 此时 无法将第二步与第三步 合并，因为不能确保在客户端发送断开请求后，服务端已经处理完客户端的所有请求了，所以需要在服务端处理完毕后再单独发送断开请求。